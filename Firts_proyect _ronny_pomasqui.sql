CREATE TABLE "user_id" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL,
  "name" varchar(30) NOT NULL,
  "email" varchar(30) NOT NULL,
  "password" varchar(30) NOT NULL,
  "age" int NOT NULL,
  "rol" int NOT NULL
);

CREATE TABLE "courses" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL,
  "title" varchar(30) NOT NULL,
  "description" varchar(50) NOT NULL,
  "level" varchar(10) NOT NULL,
  "teacher" varchar(20) NOT NULL
);

CREATE TABLE "categories" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "category" varchar(20) NOT NULL
);

CREATE TABLE "courses_video" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "title" varchar(30) NOT NULL,
  "description" varchar(100) NOT NULL
);

CREATE TABLE "rol" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "user_rol" varchar(20) NOT NULL,
  "work_id" int NOT NULL
);

CREATE TABLE "courses_students" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "user_id" int NOT NULL,
  "courses_id" int NOT NULL,
  "category_id" int NOT NULL,
  "title_id" int NOT NULL
);

CREATE TABLE "teacher_rol" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "teacher_id" int NOT NULL,
  "courses_videos_id" int NOT NULL
);

CREATE TABLE "admin" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "user_id" int NOT NULL,
  "courses_id" int NOT NULL,
  "videos_id" int NOT NULL
);

ALTER TABLE "rol" ADD FOREIGN KEY ("id") REFERENCES "user" ("id");

ALTER TABLE "courses_students" ADD FOREIGN KEY ("id") REFERENCES "rol" ("id");

ALTER TABLE "categories" ADD FOREIGN KEY ("id") REFERENCES "courses_students" ("id");

ALTER TABLE "courses" ADD FOREIGN KEY ("id") REFERENCES "categories" ("id");

ALTER TABLE "teacher_rol" ADD FOREIGN KEY ("id") REFERENCES "rol" ("id");

ALTER TABLE "courses_video" ADD FOREIGN KEY ("id") REFERENCES "teacher_rol" ("id");

ALTER TABLE "admin" ADD FOREIGN KEY ("id") REFERENCES "rol" ("id");

-- INSERTAR VALORES
-- categories 
INSERT INTO categories VALUES (1, 'front-end');
INSERT INTO categories VALUES (2, 'back-end');

-- courses
INSERT INTO courses VALUES (1, 'node js', 'Data Base', 'senior', 'andres');
INSERT INTO courses VALUES (2, 'node js', 'Data Base', 'senior', 'andres');

-- courses_video
INSERT INTO courses_video Values (1, 'html', 'https://www.youtube.com/watch?v=3HlGtHqmIpA&ab_channel=Academlo');
INSERT INTO courses_video Values (2, 'node js', 'https://www.youtube.com/watch?v=OwuTheos_do&ab_channel=Academlo');

--rol
INSERT INTO rol VALUES (1, 'students', 1);
INSERT INTO rol VALUES (2, 'teacher', 2);
INSERT INTO rol VALUES (3, 'admin', 3);

--teacher_rol
INSERT INTO teacher_rol VALUES (1, 2, 1);
INSERT INTO teacher_rol VALUES (2, 2, 2);

--admin
INSERT INTO admin VALUES (1, 3, 1, 1);
INSERT INTO admin VALUES (2, 3, 2, 2);

--user
INSERT INTO user_id VALUES (1, 'ronny', 'ronny@dominio.com', 'ejemplo123', 20, 1);
INSERT INTO user_id VALUES (2, 'ariel', 'ariel@dominio.com', 'ejemplo123', 18, 2);